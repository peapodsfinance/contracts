// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.19;

import {PodHandler} from "../handlers/PodHandler.sol";
import {LeverageManagerHandler} from "../handlers/LeverageManagerHandler.sol";
import {AutoCompoundingPodLpHandler} from "../handlers/AutoCompoundingPodLpHandler.sol";
import {StakingPoolHandler} from "../handlers/StakingPoolHandler.sol";
import {LendingAssetVaultHandler} from "../handlers/LendingAssetVaultHandler.sol";
import {FraxlendPairHandler} from "../handlers/FraxlendPairHandler.sol";
import {UniswapV2Handler} from "../handlers/UniswapV2Handler.sol";

contract ForgeTest is 
PodHandler,
LeverageManagerHandler,
AutoCompoundingPodLpHandler,
StakingPoolHandler,
LendingAssetVaultHandler,
FraxlendPairHandler,
UniswapV2Handler
 {

    function setUp() public {
        setup();
    }

    function test_insufficient_liquidity() public {
    try this.pod_bond(1546215,3751138031097922591875504541930489760974186007970478629090182390041705798454,10389715181971971589987917242974767333182130613069703617938276247980917504,420) {} catch {}

    try this.pod_bond(5410,3345289153604198298954029196314266996076008872747146171267298914732991183391,1488,5329493716067962208748939156393751609364946177744859870366232729524003814559) {} catch {}

    try this.pod_bond(425889864867768224339903349786952692834919091870919406031788920314840888697,528815,0,23946240480071674334659204121904676941797184960830933876464880126554737827123) {} catch {}

    try this.pod_addLiquidityV2(45084350023288300281900017518850075567437594055426395797457977847337694852,627170671636920774177014375228901130199747270892192605099420935686426626999,73596986455785598902184221518608355036173367631153276008286814024789232003,6896173164264395700946447089002514282609028118424420098078733409971244) {} catch {}

    try this.stakingPool_stake(956457225533655295187998432271472560672977430275689144895539220133259,738596324410205389891093839629803303290901804173811849196745867816749899,823571259776925007595797553641447262805296395841852527967681981245595647250) {} catch {}

    try this.aspTKN_deposit(1467209064140594535475240288252019062494430085092145944001846893723892250132,2994851731459750714849925192988062288837406736152493947074173493060011374,157452663956522593521493945299140127244507336444845109643200678155363072355,1012) {} catch {}

    vm.warp(block.timestamp + 21);
    vm.roll(block.number + 1);

    try this.aspTKN_mint(13483159071741260445377165253829673207202757444990745049921807544564064232,55,663509332025922860160477549369291572840828402430934690399471435648412056831,1078) {} catch {}

    aspTKN_deposit(4663194,0,1094359,105214);

}

function test_insufficient_input() public {
    try this.pod_bond(250157921023061974319881054496296286566727692382981851335645139098026382396,18595,0,23946240480071674334659204121904676941797184960830933876464880126554737827123) {} catch {}

    try this.pod_addLiquidityV2(630232011073533590045543777664550258559347053743586004993125977535117395316,9923462149872160528763635507233542261624081279644273491031538873758168920119,57265050652877890248982473855264351369967992222824492496059117028444875513,1644583562368106123566873737748342345977750168831892117989740122421240867) {} catch {}

    try this.stakingPool_stake(3269942028802087307584053550927871463628088225213404492979708451072204,1264738702472373709692659167646937669425099179358239877927072111245006387495,11073202477832041948489780812187901577183659330607914817294068754504610109146) {} catch {}

    try this.aspTKN_deposit(16305768073996948686257857932370754603298815418971421281991269686621739046,42490875575135242980487799557125024735084421249965584596283988602467964,67179303899515491984159966876123444177460365455824559740367373931616372895,1002) {} catch {}

    vm.warp(block.timestamp + 21);
    vm.roll(block.number + 1);

    try this.aspTKN_mint(3689516198273063595805673196311759892064042539156426755525635496630694535806,1,3045901323256366432087028446366438148366318623997984014756255466533118512323,6217) {} catch {}

    aspTKN_deposit(111270,97,2547,1080);

}

function test_replay() public {
    try this.leverageManager_initializePosition(7096962001175309351031708954122569597059738833862422109237148525278,1917) {} catch {}

    try this.lendingAssetVault_donate(0,590378204232475098712366623627530365713192081665426178146478) {} catch {}

    try this.pod_bond(0,53,0,40376823087734141632606500746807396928283596831452932060289462451179643137141) {} catch {}

    try this.leverageManager_addLeverage(460106152462011252061248616718776899042682877647977355048945218041068417,3778112994112360068031115439735947549829468535988168576591875054435384921071,3095359457719718961078564169853718995708561395666977374049381524639) {} catch {}

    try this.fraxPair_mint(69126886722419368835216397346996778765174464328211839883058757753226386,4017080326677565490016367644114166718794393231076032079863447007767082307800,626635908492579455494743275017931419828656934235447296989005353516858447613,621330998087583959761732745981253674161003714277593025437414475707781403260) {} catch {}

    try this.pod_bond(1,729,0,5749399858886046861338678033104484643246859488004759738752178392496986615400) {} catch {}

    try this.leverageManager_initializePosition(83813597819787538237266890975840318920339727174421869585582702600573140,1045) {} catch {}

    try this.leverageManager_addLeverage(3768798417013765906626765620351696538842223677342948860509593413572536,55463650341893274962735782838387389396129693573163568715806957736773092630,2447837959499188505225838633053905473147571707163681756986408298915299579) {} catch {}

    vm.warp(block.timestamp + 1);
    vm.roll(block.number + 1);

    try this.fraxPair_redeem(34835560422674432007519860483767583651523220445179496457322932544320486794,78217852739431538933882101953667661022028545968250168924541749375642293,6717,29450193010715293154296284804587017889740150066210481111263042596776957) {} catch {}

    // invariant_POD_12();

}
}